<!DOCTYPE html>
<!-- saved from url=(0047)file:///Users/mlewis/Desktop/RecipeMonday2.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Selector &amp; Shopping List</title>
    <style>
        /* Import a modern font */
        @import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap');

        /* --- Global Styles & Variables --- */
        :root {
            --primary-color: #0d6efd; /* A nice blue */
            --secondary-color: #6c757d; /* Muted grey */
            --light-grey: #f8f9fa;
            --dark-grey: #343a40;
            --white: #ffffff;
            --border-color: #dee2e6;
            --success-color: #198754;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 8px rgba(0,0,0,0.1);
            --border-radius: 8px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Lato', sans-serif;
            line-height: 1.6;
            background-color: var(--light-grey);
            color: var(--dark-grey);
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: var(--white);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-bottom: 1em;
        }

        h1 {
            text-align: center;
            margin-bottom: 1.5em;
            color: var(--dark-grey);
        }

        h2 {
           border-bottom: 2px solid var(--primary-color);
           padding-bottom: 0.3em;
           font-weight: 700;
        }

        h3 {
            font-weight: 700;
            color: var(--dark-grey);
            margin-top: 0; /* Reset margin for shopping list heading */
        }

        /* --- Recipe Selection Area --- */
        #recipe-list-container {
            margin-bottom: 30px;
        }

        #recipe-list {
            max-height: 400px;
            overflow-y: auto;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            background-color: #fdfdfd;
        }

        .recipe-item {
            margin-bottom: 12px;
            display: block;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
         .recipe-item:last-child {
             border-bottom: none;
         }

        /* Custom Checkbox Styling (for recipe list) */
        .recipe-item label {
            cursor: pointer;
            margin-left: 10px;
            vertical-align: middle;
            position: relative;
            user-select: none;
        }

        .recipe-item input[type="checkbox"] {
            opacity: 0;
            position: absolute;
            outline: none;
            width: 0;
            height: 0;
            margin: 0;
            padding: 0;
            border: none;
            left: 0;
            top: 0;
        }

        .recipe-item label::before {
            content: '';
            display: inline-block;
            width: 18px;
            height: 18px;
            border: 2px solid var(--secondary-color);
            border-radius: 4px;
            margin-right: 10px;
            vertical-align: middle;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            position: relative;
            top: -1px;
        }

        .recipe-item input[type="checkbox"]:checked + label::before {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .recipe-item label::after {
            content: '\2714';
            font-size: 14px;
            font-weight: bold;
            color: var(--white);
            position: absolute;
            left: 4px;
            top: 1px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .recipe-item input[type="checkbox"]:checked + label::after {
            opacity: 1;
        }

         .recipe-item input[type="checkbox"]:focus + label::before {
             box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.25);
         }


        /* --- Button Styling --- */
        button#generate-list-button {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 30px auto;
            padding: 15px 20px;
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            transition: background-color 0.2s ease, box-shadow 0.2s ease;
            box-shadow: var(--shadow-sm);
        }

        button#generate-list-button:hover:not(:disabled) {
            background-color: #0b5ed7;
            box-shadow: var(--shadow-md);
        }

        button#generate-list-button:disabled {
            background-color: var(--secondary-color);
            cursor: not-allowed;
            opacity: 0.7;
            box-shadow: none;
        }

        /* --- Shopping List & Links Area --- */
        #shopping-list-output {
             background-color: var(--white); /* Match container background */
             padding-top: 10px; /* Add some space above */
        }

        /* Styling for Recipe Links Area */
        #selected-recipe-links {
            margin-bottom: 25px;
            padding: 15px;
            background-color: #eef3f9;
            border: 1px solid #cfe2ff;
            border-radius: var(--border-radius);
            /* Hide initially if empty */
            display: none;
        }

        #selected-recipe-links h4 {
             margin: 0 0 12px 0;
             padding-bottom: 5px;
             border-bottom: 1px solid #cfe2ff;
             color: var(--dark-grey);
             font-size: 1.1em;
             font-weight: 700;
        }

        #selected-recipe-links div {
            margin-bottom: 8px;
        }
        #selected-recipe-links div:last-child {
            margin-bottom: 0;
        }

        #selected-recipe-links a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: normal;
            display: inline-block;
            padding: 2px 0;
            transition: color 0.2s ease;
        }

        #selected-recipe-links a:hover {
            text-decoration: underline;
            color: #0a58ca;
        }


        #shopping-list-ul {
            list-style: none;
            padding-left: 0;
            margin-top: 20px; /* Space below links (if present) or heading */
        }

        /* Section Headers */
        #shopping-list-ul .section-header {
            margin-top: 25px;
            margin-bottom: 10px;
            padding-bottom: 5px;
            font-weight: 700;
            font-size: 1.2em;
            color: var(--dark-grey);
            border-bottom: 2px solid var(--primary-color);
            /* Ensure header takes full width if UL was grid */
            grid-column: 1 / -1;
        }
         #shopping-list-ul .section-header:first-of-type {
             margin-top: 10px;
         }

        /* Ingredient Items - Using CSS Grid for Alignment */
        #shopping-list-ul .ingredient-item {
            display: grid;
            /* ADDED checkbox column (auto width), Name (flex), Qty (auto), Unit (auto) */
            grid-template-columns: auto 1fr auto auto;
            /* Adjusted column gap */
            gap: 10px 15px; /* Row gap, Column gap */
            align-items: center; /* Vertically align checkbox and text nicely */
            padding: 10px 5px;
            border-bottom: 1px solid #eee;
            transition: opacity 0.3s ease; /* Smooth fade on check */
        }
         #shopping-list-ul .ingredient-item:last-child {
            border-bottom: none;
        }

         /* Style Shopping List Checkbox */
         .shopping-list-checkbox {
             grid-column: 1 / 2;
             margin: 0; /* Reset default margin */
             /* Use accent-color for modern browsers, fallbacks needed for older */
             accent-color: var(--primary-color);
             width: 18px; /* Match recipe checkbox size */
             height: 18px;
             cursor: pointer;
         }

        /* Style Label containing ingredient name */
        .ingredient-item label.ingredient-name {
            grid-column: 2 / 3;
            font-weight: normal;
            margin: 0; /* Reset default label margin */
            cursor: pointer; /* Clicking label toggles checkbox */
            transition: color 0.3s ease, text-decoration 0.3s ease;
        }

        .ingredient-qty {
            grid-column: 3 / 4;
            font-weight: 700;
            text-align: right; /* Correct alignment for quantities */
            transition: color 0.3s ease, text-decoration 0.3s ease;
        }

        .ingredient-unit {
            grid-column: 4 / 5;
            color: var(--secondary-color);
            text-align: left; /* Correct alignment for units */
            transition: color 0.3s ease, text-decoration 0.3s ease;
        }

        /* Apply styles when checked using sibling combinator */
        .ingredient-item input[type="checkbox"]:checked + label.ingredient-name,
        .ingredient-item input[type="checkbox"]:checked ~ .ingredient-qty,
        .ingredient-item input[type="checkbox"]:checked ~ .ingredient-unit {
            text-decoration: line-through;
            color: var(--secondary-color);
        }
        /* Optional: fade the entire item slightly */
         .ingredient-item input[type="checkbox"]:checked ~ * {
            opacity: 0.7;
        }
         .ingredient-item input[type="checkbox"]:checked {
             opacity: 0.7; /* Fade checkbox too */
         }


        .error-message {
            color: #dc3545;
            font-weight: bold;
            padding: 10px;
            background-color: #f8d7da;
            border: 1px solid #f5c2c7;
            border-radius: var(--border-radius);
        }

         /* --- Mobile Responsiveness --- */
         @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 20px;
                margin: 10px auto;
            }
            h1 {
                font-size: 1.8em;
            }
             h2 {
                 font-size: 1.4em;
             }
             button#generate-list-button {
                 padding: 12px 15px;
                 font-size: 1em;
             }
             #shopping-list-ul .ingredient-item {
                 /* Reduce column gap on smaller screens */
                 gap: 8px 10px;
                 align-items: baseline; /* Switch back for smaller text? Test needed */
             }
         }

         @media (max-width: 480px) {
             .container {
                 padding: 15px;
             }
             h1 {
                 font-size: 1.5em;
             }
             h2 {
                 font-size: 1.2em;
             }
              #shopping-list-ul .ingredient-item {
                  /* Further reduce column gap */
                  gap: 5px 8px;
                   align-items: center; /* Keep center align */
             }
             /* Make text slightly smaller if needed */
             /*
             .ingredient-item label.ingredient-name,
             .ingredient-item .ingredient-qty,
             .ingredient-item .ingredient-unit {
                 font-size: 0.95em;
             }
            */
         }

    </style>
</head>
<body>

    <div class="container">
        <h1>Meal Planner</h1>

        <div id="recipe-list-container">
            <h2>Choose recipes to make:</h2>
            <div id="recipe-list"><div class="recipe-item"><input type="checkbox" id="recipe-BroccoliFarroSaladSmittenKitchen" name="recipe" value="Broccoli Farro Salad (Smitten Kitchen)"><label for="recipe-BroccoliFarroSaladSmittenKitchen">Broccoli Farro Salad (Smitten Kitchen)</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Burritobowls" name="recipe" value="Burrito bowls"><label for="recipe-Burritobowls">Burrito bowls</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Capresesandwiches" name="recipe" value="Caprese sandwiches"><label for="recipe-Capresesandwiches">Caprese sandwiches</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Chickpeaandcarrotcurry" name="recipe" value="Chickpea and carrot curry"><label for="recipe-Chickpeaandcarrotcurry">Chickpea and carrot curry</label></div><div class="recipe-item"><input type="checkbox" id="recipe-CreamymushroompastaBonAppetit" name="recipe" value="Creamy mushroom pasta (Bon Appetit)"><label for="recipe-CreamymushroompastaBonAppetit">Creamy mushroom pasta (Bon Appetit)</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Enchiladabake" name="recipe" value="Enchilada bake"><label for="recipe-Enchiladabake">Enchilada bake</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Grazingplatter" name="recipe" value="Grazing platter"><label for="recipe-Grazingplatter">Grazing platter</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Haricotsvertswithmintytahini" name="recipe" value="Haricots verts with minty tahini"><label for="recipe-Haricotsvertswithmintytahini">Haricots verts with minty tahini</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Kalesalad" name="recipe" value="Kale salad"><label for="recipe-Kalesalad">Kale salad</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Margaritapizza" name="recipe" value="Margarita pizza"><label for="recipe-Margaritapizza">Margarita pizza</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Mediteraneanbakedveggies" name="recipe" value="Mediteranean baked veggies"><label for="recipe-Mediteraneanbakedveggies">Mediteranean baked veggies</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Minestronesoup" name="recipe" value="Minestrone soup"><label for="recipe-Minestronesoup">Minestrone soup</label></div><div class="recipe-item"><input type="checkbox" id="recipe-MushroomburattapizzaGoodEggs" name="recipe" value="Mushroom buratta pizza (Good Eggs)"><label for="recipe-MushroomburattapizzaGoodEggs">Mushroom buratta pizza (Good Eggs)</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Mushroomravioli" name="recipe" value="Mushroom ravioli"><label for="recipe-Mushroomravioli">Mushroom ravioli</label></div><div class="recipe-item"><input type="checkbox" id="recipe-OnepotfarrowithtomatoSmittenKitchen" name="recipe" value="One pot farro with tomato (Smitten Kitchen)"><label for="recipe-OnepotfarrowithtomatoSmittenKitchen">One pot farro with tomato (Smitten Kitchen)</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Peachpanzanellawithburratamint" name="recipe" value="Peach panzanella with burrata &amp; mint"><label for="recipe-Peachpanzanellawithburratamint">Peach panzanella with burrata &amp; mint</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Quinoaspaghettiwithbroccoli" name="recipe" value="Quinoa spaghetti with broccoli"><label for="recipe-Quinoaspaghettiwithbroccoli">Quinoa spaghetti with broccoli</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Roastbutternutsquashandredonionwithzaatartahini" name="recipe" value="Roast butternut squash and red onion with za&#39;atar tahini"><label for="recipe-Roastbutternutsquashandredonionwithzaatartahini">Roast butternut squash and red onion with za'atar tahini</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Roastedtomatoeswithgarlic" name="recipe" value="Roasted tomatoes with garlic"><label for="recipe-Roastedtomatoeswithgarlic">Roasted tomatoes with garlic</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Roastedyamsandchickpeaswithyogurt" name="recipe" value="Roasted yams and chickpeas with yogurt"><label for="recipe-Roastedyamsandchickpeaswithyogurt">Roasted yams and chickpeas with yogurt</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Sausagedogs" name="recipe" value="Sausage dogs"><label for="recipe-Sausagedogs">Sausage dogs</label></div><div class="recipe-item"><input type="checkbox" id="recipe-ShakshukaSmittenKitchen" name="recipe" value="Shakshuka (Smitten Kitchen)"><label for="recipe-ShakshukaSmittenKitchen">Shakshuka (Smitten Kitchen)</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Simplecauliflowertacos" name="recipe" value="Simple cauliflower tacos"><label for="recipe-Simplecauliflowertacos">Simple cauliflower tacos</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Skilletpastawith5cheeses" name="recipe" value="Skillet pasta with 5 cheeses"><label for="recipe-Skilletpastawith5cheeses">Skillet pasta with 5 cheeses</label></div><div class="recipe-item"><input type="checkbox" id="recipe-SpaghettiaglioeolioBonAppetit" name="recipe" value="Spaghetti aglio e olio (Bon Appetit)"><label for="recipe-SpaghettiaglioeolioBonAppetit">Spaghetti aglio e olio (Bon Appetit)</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Sweetpotatopitapocket" name="recipe" value="Sweet potato pita pocket"><label for="recipe-Sweetpotatopitapocket">Sweet potato pita pocket</label></div><div class="recipe-item"><input type="checkbox" id="recipe-Veggiejumble" name="recipe" value="Veggie jumble"><label for="recipe-Veggiejumble">Veggie jumble</label></div></div>
        </div>

        <button id="generate-list-button">Generate Shopping List</button>

        <div id="shopping-list-output">
            <h3>Shopping List:</h3>

            <!-- Placeholder for recipe links -->
            <div id="selected-recipe-links" style="display: block;"><h4>Recipe Links:</h4><div><a href="https://www.williams-sonoma.com/recipe/chickpea--spinach-and-carrot-curry.html" target="_blank" rel="noopener noreferrer">Chickpea and carrot curry</a></div><div><a href="https://www.bonappetit.com/test-kitchen/inside-our-kitchen/article/brown-butter-mushroom-orecchiette" target="_blank" rel="noopener noreferrer">Creamy mushroom pasta (Bon Appetit)</a></div><div><a href="https://www.hellofresh.com/recipes/one-pan-rice-bean-enchilada-bake-614b499eebe91d735a1d62a9" target="_blank" rel="noopener noreferrer">Enchilada bake</a></div><div><a href="https://www.bonappetit.com/recipe/haricots-verts-and-freekeh-with-minty-tahini-dressing" target="_blank" rel="noopener noreferrer">Haricots verts with minty tahini</a></div></div>

            <ul id="shopping-list-ul"><li class="section-header">Bread</li><li class="ingredient-item"><input type="checkbox" id="item-pitaspacket-0" class="shopping-list-checkbox"><label for="item-pitaspacket-0" class="ingredient-name">Pitas</label><span class="ingredient-qty">1</span><span class="ingredient-unit">packet</span></li><li class="section-header">Cheese area</li><li class="ingredient-item"><input type="checkbox" id="item-cheddarcheesecount-1" class="shopping-list-checkbox"><label for="item-cheddarcheesecount-1" class="ingredient-name">Cheddar cheese</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-mexicancheesecups-2" class="shopping-list-checkbox"><label for="item-mexicancheesecups-2" class="ingredient-name">Mexican cheese</label><span class="ingredient-qty">0.5</span><span class="ingredient-unit">cups</span></li><li class="ingredient-item"><input type="checkbox" id="item-parmesancheeseoz-3" class="shopping-list-checkbox"><label for="item-parmesancheeseoz-3" class="ingredient-name">Parmesan cheese</label><span class="ingredient-qty">3</span><span class="ingredient-unit">oz</span></li><li class="section-header">Cooking</li><li class="ingredient-item"><input type="checkbox" id="item-chickpeasozcan-4" class="shopping-list-checkbox"><label for="item-chickpeasozcan-4" class="ingredient-name">Chickpeas</label><span class="ingredient-qty">15</span><span class="ingredient-unit">oz can</span></li><li class="ingredient-item"><input type="checkbox" id="item-choppedtomatoesozcan-5" class="shopping-list-checkbox"><label for="item-choppedtomatoesozcan-5" class="ingredient-name">Chopped tomatoes</label><span class="ingredient-qty">28</span><span class="ingredient-unit">oz can</span></li><li class="ingredient-item"><input type="checkbox" id="item-cumintsp-6" class="shopping-list-checkbox"><label for="item-cumintsp-6" class="ingredient-name">Cumin</label><span class="ingredient-qty">2</span><span class="ingredient-unit">tsp</span></li><li class="ingredient-item"><input type="checkbox" id="item-enchiladasaucecount-7" class="shopping-list-checkbox"><label for="item-enchiladasaucecount-7" class="ingredient-name">Enchilada sauce</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-jasminericecup-8" class="shopping-list-checkbox"><label for="item-jasminericecup-8" class="ingredient-name">Jasmine rice</label><span class="ingredient-qty">0.5</span><span class="ingredient-unit">cup</span></li><li class="ingredient-item"><input type="checkbox" id="item-kidneybeanscount-9" class="shopping-list-checkbox"><label for="item-kidneybeanscount-9" class="ingredient-name">Kidney beans</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-maplesyruptsp-10" class="shopping-list-checkbox"><label for="item-maplesyruptsp-10" class="ingredient-name">Maple syrup</label><span class="ingredient-qty">0.5</span><span class="ingredient-unit">tsp</span></li><li class="ingredient-item"><input type="checkbox" id="item-oliveoiltsp-11" class="shopping-list-checkbox"><label for="item-oliveoiltsp-11" class="ingredient-name">Olive oil</label><span class="ingredient-qty">1</span><span class="ingredient-unit">tsp</span></li><li class="ingredient-item"><input type="checkbox" id="item-pastalb-12" class="shopping-list-checkbox"><label for="item-pastalb-12" class="ingredient-name">Pasta</label><span class="ingredient-qty">1</span><span class="ingredient-unit">lb</span></li><li class="ingredient-item"><input type="checkbox" id="item-semipearledfarrocups-13" class="shopping-list-checkbox"><label for="item-semipearledfarrocups-13" class="ingredient-name">Semi pearled farro</label><span class="ingredient-qty">0.25</span><span class="ingredient-unit">cups</span></li><li class="ingredient-item"><input type="checkbox" id="item-tahinitbsp-14" class="shopping-list-checkbox"><label for="item-tahinitbsp-14" class="ingredient-name">Tahini</label><span class="ingredient-qty">2</span><span class="ingredient-unit">tbsp</span></li><li class="section-header">Dairy</li><li class="ingredient-item"><input type="checkbox" id="item-heavycreamtbsp-15" class="shopping-list-checkbox"><label for="item-heavycreamtbsp-15" class="ingredient-name">Heavy cream</label><span class="ingredient-qty">4</span><span class="ingredient-unit">tbsp</span></li><li class="ingredient-item"><input type="checkbox" id="item-hummuscount-16" class="shopping-list-checkbox"><label for="item-hummuscount-16" class="ingredient-name">Hummus</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-sourcreamtbsp-17" class="shopping-list-checkbox"><label for="item-sourcreamtbsp-17" class="ingredient-name">Sour cream</label><span class="ingredient-qty">2</span><span class="ingredient-unit">tbsp</span></li><li class="section-header">Nuts</li><li class="ingredient-item"><input type="checkbox" id="item-hazelnutscup-18" class="shopping-list-checkbox"><label for="item-hazelnutscup-18" class="ingredient-name">Hazelnuts</label><span class="ingredient-qty">0.25</span><span class="ingredient-unit">cup</span></li><li class="section-header">Produce</li><li class="ingredient-item"><input type="checkbox" id="item-applescount-19" class="shopping-list-checkbox"><label for="item-applescount-19" class="ingredient-name">Apples</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-avocadocount-20" class="shopping-list-checkbox"><label for="item-avocadocount-20" class="ingredient-name">Avocado</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-babyspinachcups-21" class="shopping-list-checkbox"><label for="item-babyspinachcups-21" class="ingredient-name">Baby spinach</label><span class="ingredient-qty">2</span><span class="ingredient-unit">cups</span></li><li class="ingredient-item"><input type="checkbox" id="item-carrotscount-22" class="shopping-list-checkbox"><label for="item-carrotscount-22" class="ingredient-name">Carrots</label><span class="ingredient-qty">2</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-chivesbunch-23" class="shopping-list-checkbox"><label for="item-chivesbunch-23" class="ingredient-name">Chives</label><span class="ingredient-qty">1</span><span class="ingredient-unit">bunch</span></li><li class="ingredient-item"><input type="checkbox" id="item-cilantrocount-24" class="shopping-list-checkbox"><label for="item-cilantrocount-24" class="ingredient-name">Cilantro</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-freshgingertbsp-25" class="shopping-list-checkbox"><label for="item-freshgingertbsp-25" class="ingredient-name">Fresh ginger</label><span class="ingredient-qty">2</span><span class="ingredient-unit">tbsp</span></li><li class="ingredient-item"><input type="checkbox" id="item-garlictbsp-26" class="shopping-list-checkbox"><label for="item-garlictbsp-26" class="ingredient-name">Garlic</label><span class="ingredient-qty">1</span><span class="ingredient-unit">tbsp</span></li><li class="ingredient-item"><input type="checkbox" id="item-garlicclove-27" class="shopping-list-checkbox"><label for="item-garlicclove-27" class="ingredient-name">Garlic</label><span class="ingredient-qty">1</span><span class="ingredient-unit">clove</span></li><li class="ingredient-item"><input type="checkbox" id="item-grapetomatoesoz-28" class="shopping-list-checkbox"><label for="item-grapetomatoesoz-28" class="ingredient-name">Grape tomatoes</label><span class="ingredient-qty">1</span><span class="ingredient-unit">oz</span></li><li class="ingredient-item"><input type="checkbox" id="item-grapescount-29" class="shopping-list-checkbox"><label for="item-grapescount-29" class="ingredient-name">Grapes</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-greenbeanslb-30" class="shopping-list-checkbox"><label for="item-greenbeanslb-30" class="ingredient-name">Green beans</label><span class="ingredient-qty">1</span><span class="ingredient-unit">lb</span></li><li class="ingredient-item"><input type="checkbox" id="item-lemoncount-31" class="shopping-list-checkbox"><label for="item-lemoncount-31" class="ingredient-name">Lemon</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-limecount-32" class="shopping-list-checkbox"><label for="item-limecount-32" class="ingredient-name">Lime</label><span class="ingredient-qty">2</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-minttsp-33" class="shopping-list-checkbox"><label for="item-minttsp-33" class="ingredient-name">Mint</label><span class="ingredient-qty">0.5</span><span class="ingredient-unit">tsp</span></li><li class="ingredient-item"><input type="checkbox" id="item-mushroomsoz-34" class="shopping-list-checkbox"><label for="item-mushroomsoz-34" class="ingredient-name">Mushrooms</label><span class="ingredient-qty">4</span><span class="ingredient-unit">oz</span></li><li class="ingredient-item"><input type="checkbox" id="item-scallionscount-35" class="shopping-list-checkbox"><label for="item-scallionscount-35" class="ingredient-name">Scallions</label><span class="ingredient-qty">2</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-yellowonioncount-36" class="shopping-list-checkbox"><label for="item-yellowonioncount-36" class="ingredient-name">Yellow onion</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="section-header">Snacks</li><li class="ingredient-item"><input type="checkbox" id="item-crackerscount-37" class="shopping-list-checkbox"><label for="item-crackerscount-37" class="ingredient-name">Crackers</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li><li class="ingredient-item"><input type="checkbox" id="item-tortillachipscount-38" class="shopping-list-checkbox"><label for="item-tortillachipscount-38" class="ingredient-name">Tortilla chips</label><span class="ingredient-qty">1</span><span class="ingredient-unit">count</span></li></ul>
        </div>
    </div> <!-- End of container -->

    <script>
        // --- Embedded Recipe Data ---
        const recipeData = [
            // --- PASTE YOUR FULL recipeData ARRAY HERE ---
            // (Using the snippet from your original code for brevity)
            { recipeName: "Veggie jumble", ingredient: "Grilling cheese", quantity: 4, units: "oz", section: "Cheese area" },
            { recipeName: "Veggie jumble", ingredient: "Cilantro", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Veggie jumble", ingredient: "Garlic", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Veggie jumble", ingredient: "Avocado", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Veggie jumble", ingredient: "Grape tomatoes", quantity: 4, units: "oz", section: "Produce" },
            { recipeName: "Veggie jumble", ingredient: "Lemon", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Veggie jumble", ingredient: "Red onion", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Veggie jumble", ingredient: "Sweet potatoes", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Veggie jumble", ingredient: "Cumin", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Feta / goats cheese", quantity: 0.5, units: "cups", section: "Cheese area" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Garlic", quantity: 2, units: "cloves", section: "Produce" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Grape tomatoes", quantity: 4, units: "oz", section: "Produce" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Thyme", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Asparagus", quantity: 8, units: "oz", section: "Produce" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Scallions", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Israeli couscous", quantity: 0.75, units: "cups", section: "Cooking" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Sliced almonds", quantity: 1, units: "oz", section: "Nuts" },
            { recipeName: "Mediteranean baked veggies", ingredient: "Veggie stock", quantity: 2, units: "cubes", section: "Cooking" },
            { recipeName: "Mushroom buratta pizza (Good Eggs)", ingredient: "Pizza dough", quantity: 1, units: "count", section: "Cheese area" },
            { recipeName: "Mushroom buratta pizza (Good Eggs)", ingredient: "Buratta", quantity: 1, units: "balls", section: "Dairy" },
            { recipeName: "Mushroom buratta pizza (Good Eggs)", ingredient: "Arugula", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Mushroom buratta pizza (Good Eggs)", ingredient: "Garlic", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Mushroom buratta pizza (Good Eggs)", ingredient: "Mushrooms", quantity: 10, units: "oz", section: "Produce" },
            { recipeName: "Mushroom buratta pizza (Good Eggs)", ingredient: "Shallots", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Mushroom buratta pizza (Good Eggs)", ingredient: "Lemon", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Burrito bowls", ingredient: "Mexican cheese", quantity: 0.5, units: "cups", section: "Cheese area" },
            { recipeName: "Burrito bowls", ingredient: "Tortilla chips", quantity: 1, units: "count", section: "Snacks" },
            { recipeName: "Burrito bowls", ingredient: "Canned black beans", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Burrito bowls", ingredient: "Canned corn", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Burrito bowls", ingredient: "Jasmine rice", quantity: 0.5, units: "cup", section: "Cooking" },
            { recipeName: "Burrito bowls", ingredient: "Sour cream", quantity: 4, units: "tbsp", section: "Dairy" },
            { recipeName: "Burrito bowls", ingredient: "Avocado", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Burrito bowls", ingredient: "Cilantro", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Burrito bowls", ingredient: "Grape tomatoes", quantity: 4, units: "oz", section: "Produce" },
            { recipeName: "Burrito bowls", ingredient: "Lime", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Burrito bowls", ingredient: "Yellow onion", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Margarita pizza", ingredient: "Pizza dough", quantity: 1, units: "count", section: "Cheese area" },
            { recipeName: "Margarita pizza", ingredient: "Tomato sauce", quantity: 1, units: "can", section: "Cooking" },
            { recipeName: "Margarita pizza", ingredient: "Buratta", quantity: 1, units: "balls", section: "Dairy" },
            { recipeName: "Margarita pizza", ingredient: "Basil", quantity: 1, units: "tbsp", section: "Produce" },
            { recipeName: "Sweet potato pita pocket", ingredient: "Pitas", quantity: 1, units: "packet", section: "Bread" },
            { recipeName: "Sweet potato pita pocket", ingredient: "Mayonnaise", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Sweet potato pita pocket", ingredient: "Avocado", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Sweet potato pita pocket", ingredient: "Cucumber", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Sweet potato pita pocket", ingredient: "Garlic", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Sweet potato pita pocket", ingredient: "Sweet potatoes", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Sweet potato pita pocket", ingredient: "Pine nuts", quantity: 1, units: "oz", section: "Nuts" },
            { recipeName: "Sweet potato pita pocket", ingredient: "White wine vinegar", quantity: 2, units: "tbsp", section: "Cooking" },
            { recipeName: "Sweet potato pita pocket", ingredient: "Harissa powder", quantity: 1, units: "tbsp", section: "Cooking" },
            { recipeName: "Mushroom ravioli", ingredient: "Parmesan cheese", quantity: 1, units: "oz", section: "Cheese area" },
            { recipeName: "Mushroom ravioli", ingredient: "Veggie stock", quantity: 1, units: "tsp", section: "Cooking" },
            { recipeName: "Mushroom ravioli", ingredient: "Mushroom ravioli", quantity: 1, units: "cube", section: "Cheese area" },
            { recipeName: "Mushroom ravioli", ingredient: "Garlic", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Mushroom ravioli", ingredient: "Sour cream", quantity: 4, units: "tbsp", section: "Dairy" },
            { recipeName: "Mushroom ravioli", ingredient: "Grape tomatoes", quantity: 4, units: "oz", section: "Produce" },
            { recipeName: "Mushroom ravioli", ingredient: "Mushrooms", quantity: 10, units: "oz", section: "Produce" },
            { recipeName: "Mushroom ravioli", ingredient: "Shallots", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Mushroom ravioli", ingredient: "Zucchini", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Broccoli Farro Salad (Smitten Kitchen)", ingredient: "Parmesan cheese", quantity: 4, units: "oz", section: "Cheese area" },
            { recipeName: "Broccoli Farro Salad (Smitten Kitchen)", ingredient: "Semi pearled farro", quantity: 1, units: "cup", section: "Cooking" },
            { recipeName: "Broccoli Farro Salad (Smitten Kitchen)", ingredient: "Broccolini", quantity: 1, units: "lbs", section: "Produce" },
            { recipeName: "Broccoli Farro Salad (Smitten Kitchen)", ingredient: "Garlic", quantity: 2, units: "cloves", section: "Produce" },
            { recipeName: "Broccoli Farro Salad (Smitten Kitchen)", ingredient: "Lemon", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "One pot farro with tomato (Smitten Kitchen)", ingredient: "Parmesan cheese", quantity: 1, units: "oz", section: "Cheese area" },
            { recipeName: "One pot farro with tomato (Smitten Kitchen)", ingredient: "Olive oil", quantity: 1, units: "tsp", section: "Cooking" },
            { recipeName: "One pot farro with tomato (Smitten Kitchen)", ingredient: "Semi pearled farro", quantity: 1, units: "cups", section: "Cooking" },
            { recipeName: "One pot farro with tomato (Smitten Kitchen)", ingredient: "Garlic", quantity: 2, units: "cloves", section: "Produce" },
            { recipeName: "One pot farro with tomato (Smitten Kitchen)", ingredient: "Grape tomatoes", quantity: 9, units: "oz", section: "Produce" },
            { recipeName: "One pot farro with tomato (Smitten Kitchen)", ingredient: "White onion", quantity: 0.5, units: "count", section: "Produce" },
            { recipeName: "One pot farro with tomato (Smitten Kitchen)", ingredient: "Fresh basil", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Feta / goats cheese", quantity: 0.5, units: "cups", section: "Cheese area" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Canned whole tomatoes", quantity: 1, units: "28 oz can", section: "Cooking" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Cumin", quantity: 1, units: "tsp", section: "Cooking" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Olive oil", quantity: 4, units: "tsp", section: "Cooking" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Paprika", quantity: 1, units: "tbsp", section: "Cooking" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Eggs", quantity: 6, units: "count", section: "Dairy" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Garlic", quantity: 5, units: "cloves", section: "Produce" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Yellow onion", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Shakshuka (Smitten Kitchen)", ingredient: "Pita", quantity: 1, units: "pack", section: "Bread" },
            { recipeName: "Grazing platter", ingredient: "Cheddar cheese", quantity: 1, units: "count", section: "Cheese area" },
            { recipeName: "Grazing platter", ingredient: "Hummus", quantity: 1, units: "count", section: "Dairy" },
            { recipeName: "Grazing platter", ingredient: "Pitas", quantity: 1, units: "packet", section: "Bread" },
            { recipeName: "Grazing platter", ingredient: "Crackers", quantity: 1, units: "count", section: "Snacks" },
            { recipeName: "Grazing platter", ingredient: "Apples", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Grazing platter", ingredient: "Grape tomatoes", quantity: 1, units: "oz", section: "Produce" },
            { recipeName: "Grazing platter", ingredient: "Grapes", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Sausage dogs", ingredient: "Cheddar cheese", quantity: 1, units: "count", section: "Cheese area" },
            { recipeName: "Sausage dogs", ingredient: "Hot dog buns", quantity: 1, units: "count", section: "Bread" },
            { recipeName: "Sausage dogs", ingredient: "Veggie sausage", quantity: 1, units: "count", section: "Cheese area" },
            { recipeName: "Sausage dogs", ingredient: "Mushrooms", quantity: 8, units: "oz", section: "Cheese area" },
            { recipeName: "Sausage dogs", ingredient: "Hummus", quantity: 8, units: "oz", section: "Dairy" },
            { recipeName: "Sausage dogs", ingredient: "Onion", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Spaghetti aglio e olio (Bon Appetit)", ingredient: "Parmesan cheese", quantity: 1, units: "oz", section: "Cheese area" },
            { recipeName: "Spaghetti aglio e olio (Bon Appetit)", ingredient: "Olive oil", quantity: 12, units: "tsp", section: "Cooking" },
            { recipeName: "Spaghetti aglio e olio (Bon Appetit)", ingredient: "Garlic", quantity: 5, units: "cloves", section: "Produce" },
            { recipeName: "Spaghetti aglio e olio (Bon Appetit)", ingredient: "Spaghetti", quantity: 12, units: "oz", section: "Cooking" },
            { recipeName: "Spaghetti aglio e olio (Bon Appetit)", ingredient: "Kale", quantity: 1.5, units: "lbs", section: "Produce" },
            { recipeName: "Creamy mushroom pasta (Bon Appetit)", ingredient: "Parmesan cheese", quantity: 3, units: "oz", section: "Cheese area" },
            { recipeName: "Creamy mushroom pasta (Bon Appetit)", ingredient: "Mushrooms", quantity: 4, units: "oz", section: "Produce" },
            { recipeName: "Creamy mushroom pasta (Bon Appetit)", ingredient: "Yellow onion", quantity: 0.5, units: "count", section: "Produce" },
            { recipeName: "Creamy mushroom pasta (Bon Appetit)", ingredient: "Pasta", quantity: 1, units: "lb", section: "Cooking" },
            { recipeName: "Creamy mushroom pasta (Bon Appetit)", ingredient: "Heavy cream", quantity: 4, units: "tbsp", section: "Dairy" },
            { recipeName: "Creamy mushroom pasta (Bon Appetit)", ingredient: "Chives", quantity: 1, units: "bunch", section: "Produce" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Jasmine rice", quantity: 0.5, units: "cup", section: "Cooking" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Cumin", quantity: 2, units: "tsp", section: "Cooking" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Carrots", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Yellow onion", quantity: 0.5, units: "count", section: "Produce" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Chopped tomatoes", quantity: 28, units: "oz can", section: "Cooking" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Chickpeas", quantity: 15, units: "oz can", section: "Cooking" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Baby spinach", quantity: 2, units: "cups", section: "Produce" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Garlic", quantity: 1, units: "tbsp", section: "Produce" },
            { recipeName: "Chickpea and carrot curry", ingredient: "Fresh ginger", quantity: 2, units: "tbsp", section: "Produce" },
            { recipeName: "Quinoa spaghetti with broccoli", ingredient: "Feta / goat's cheese", quantity: 1, units: "cup", section: "Cheese area" },
            { recipeName: "Quinoa spaghetti with broccoli", ingredient: "Olive oil", quantity: 12, units: "tsp", section: "Cooking" },
            { recipeName: "Quinoa spaghetti with broccoli", ingredient: "Broccoli rabe", quantity: 1, units: "lbs", section: "Produce" },
            { recipeName: "Quinoa spaghetti with broccoli", ingredient: "Garlic", quantity: 6, units: "cloves", section: "Produce" },
            { recipeName: "Quinoa spaghetti with broccoli", ingredient: "Fresh mint", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Quinoa spaghetti with broccoli", ingredient: "Spaghetti", quantity: 12, units: "oz", section: "Cooking" },
            { recipeName: "Quinoa spaghetti with broccoli", ingredient: "Walnuts or other", quantity: 1, units: "cup", section: "Nuts" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Ricotta", quantity: 0.5, units: "cups", section: "Cheese area" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Whole milk", quantity: 1, units: "count", section: "Dairy" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Mozzarella", quantity: 3, units: "oz", section: "Cheese area" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Basil", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Scallions", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Parmesan", quantity: 3, units: "oz", section: "Cheese area" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Crushed tomatoes", quantity: 28, units: "oz can", section: "Cooking" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Gruyere or gouda", quantity: 3, units: "oz", section: "Cheese area" },
            { recipeName: "Skillet pasta with 5 cheeses", ingredient: "Past shells", quantity: 1, units: "lb", section: "Cooking" },
            { recipeName: "Caprese sandwiches", ingredient: "Olive oil", quantity: 3, units: "tsp", section: "Cooking" },
            { recipeName: "Caprese sandwiches", ingredient: "Basil", quantity: 1, units: "tbsp", section: "Produce" },
            { recipeName: "Caprese sandwiches", ingredient: "Plum tomatoes", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Caprese sandwiches", ingredient: "Mozzarella", quantity: 1, units: "oz", section: "Cheese area" },
            { recipeName: "Caprese sandwiches", ingredient: "Baguette", quantity: 1, units: "count", section: "Bread" },
            { recipeName: "Roasted tomatoes with garlic", ingredient: "Olive oil", quantity: 4, units: "tsp", section: "Cooking" },
            { recipeName: "Roasted tomatoes with garlic", ingredient: "Garlic", quantity: 12, units: "cloves", section: "Produce" },
            { recipeName: "Roasted tomatoes with garlic", ingredient: "Basil", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Roasted tomatoes with garlic", ingredient: "Plum tomatoes", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Enchilada bake", ingredient: "Mexican cheese", quantity: 0.5, units: "cups", section: "Cheese area" },
            // NOTE: Original data had Tortilla chips as Produce, corrected to Snacks
            { recipeName: "Enchilada bake", ingredient: "Tortilla chips", quantity: 1, units: "count", section: "Snacks" },
            { recipeName: "Enchilada bake", ingredient: "Sour cream", quantity: 2, units: "tbsp", section: "Dairy" },
            { recipeName: "Enchilada bake", ingredient: "Avocado", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Enchilada bake", ingredient: "Cilantro", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Enchilada bake", ingredient: "Lime", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Enchilada bake", ingredient: "Scallions", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Enchilada bake", ingredient: "Kidney beans", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Enchilada bake", ingredient: "Enchilada sauce", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Minestrone soup", ingredient: "Parmesan cheese", quantity: 1, units: "oz", section: "Cheese area" },
            { recipeName: "Minestrone soup", ingredient: "Veggie stock concentrate", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Minestrone soup", ingredient: "Basil", quantity: 1, units: "tbsp", section: "Produce" },
            { recipeName: "Minestrone soup", ingredient: "Garlic", quantity: 1, units: "clove", section: "Produce" },
            { recipeName: "Minestrone soup", ingredient: "Yellow onion", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Minestrone soup", ingredient: "Kidney beans", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Minestrone soup", ingredient: "White beans", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Minestrone soup", ingredient: "Celery", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Minestrone soup", ingredient: "Carrots", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Minestrone soup", ingredient: "Panko", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Minestrone soup", ingredient: "Diced tomatoes", quantity: 1, units: "can", section: "Cooking" },
            { recipeName: "Roasted yams and chickpeas with yogurt", ingredient: "Greek yogurt", quantity: 1, units: "count", section: "Dairy" },
            { recipeName: "Roasted yams and chickpeas with yogurt", ingredient: "Sweet potatoes", quantity: 3, units: "count", section: "Produce" },
            { recipeName: "Roasted yams and chickpeas with yogurt", ingredient: "Chickpeas", quantity: 15, units: "oz", section: "Cooking" },
            { recipeName: "Roasted yams and chickpeas with yogurt", ingredient: "Garlic", quantity: 1, units: "clove", section: "Produce" },
            { recipeName: "Roasted yams and chickpeas with yogurt", ingredient: "Lemon", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Roast butternut squash and red onion with za'atar tahini", ingredient: "Tahini", quantity: 1, units: "tbsp", section: "Cooking" },
            { recipeName: "Roast butternut squash and red onion with za'atar tahini", ingredient: "Red onion", quantity: 2, units: "count", section: "Produce" },
            { recipeName: "Roast butternut squash and red onion with za'atar tahini", ingredient: "Butternut squash", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Roast butternut squash and red onion with za'atar tahini", ingredient: "Za'atar", quantity: 1, units: "count", section: "Cooking" },
            { recipeName: "Kale salad", ingredient: "Feta / goats cheese", quantity: 1, units: "c", section: "Cheese area" },
            { recipeName: "Kale salad", ingredient: "Hazelnuts", quantity: 1, units: "count", section: "Nuts" },
            { recipeName: "Kale salad", ingredient: "Olive oil", quantity: 1, units: "tsp", section: "Cooking" },
            { recipeName: "Kale salad", ingredient: "Avocado", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Kale salad", ingredient: "Garlic", quantity: 1, units: "clove", section: "Produce" },
            { recipeName: "Kale salad", ingredient: "Kale", quantity: 1, units: "lbs", section: "Produce" },
            { recipeName: "Kale salad", ingredient: "Pine nuts", quantity: 1, units: "count", section: "Nuts" },
            // NOTE: Original data had Cherry Tomato as Dairy, corrected to Produce
            { recipeName: "Peach panzanella with burrata & mint", ingredient: "Cherry Tomato", quantity: 8, units: "ounces", section: "Produce" },
            { recipeName: "Peach panzanella with burrata & mint", ingredient: "Buratta", quantity: 1, units: "balls", section: "Cheese area" },
            { recipeName: "Peach panzanella with burrata & mint", ingredient: "Mint", quantity: 1, units: "tsp", section: "Produce" },
            { recipeName: "Peach panzanella with burrata & mint", ingredient: "Peaches", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Peach panzanella with burrata & mint", ingredient: "Baguette", quantity: 1, units: "count", section: "Bread" },
            { recipeName: "Peach panzanella with burrata & mint", ingredient: "Pine nuts", quantity: 2, units: "oz", section: "Nuts" },
            { recipeName: "Simple cauliflower tacos", ingredient: "Cilantro", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Simple cauliflower tacos", ingredient: "Lime", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Simple cauliflower tacos", ingredient: "Red onion", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Simple cauliflower tacos", ingredient: "Cauliflower", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Simple cauliflower tacos", ingredient: "Tortillas", quantity: 1, units: "count", section: "Bread" },
            // NOTE: Original data had Hazelnuts as count, usually sold by weight/volume, adjust if needed
            { recipeName: "Haricots verts with minty tahini", ingredient: "Hazelnuts", quantity: 0.25, units: "cup", section: "Nuts" },
            { recipeName: "Haricots verts with minty tahini", ingredient: "Semi pearled farro", quantity: 0.25, units: "cups", section: "Cooking" },
            { recipeName: "Haricots verts with minty tahini", ingredient: "Olive oil", quantity: 1, units: "tsp", section: "Cooking" },
            { recipeName: "Haricots verts with minty tahini", ingredient: "Green beans", quantity: 1, units: "lb", section: "Produce" },
            { recipeName: "Haricots verts with minty tahini", ingredient: "Tahini", quantity: 2, units: "tbsp", section: "Cooking" },
            { recipeName: "Haricots verts with minty tahini", ingredient: "Mint", quantity: 0.5, units: "tsp", section: "Produce" },
            { recipeName: "Haricots verts with minty tahini", ingredient: "Garlic", quantity: 1, units: "clove", section: "Produce" },
            { recipeName: "Haricots verts with minty tahini", ingredient: "Lemon", quantity: 1, units: "count", section: "Produce" },
            { recipeName: "Haricots verts with minty tahini", ingredient: "Maple syrup", quantity: 0.5, units: "tsp", section: "Cooking" },
        ];

        // --- Recipe URL Mappings ---
        // --- PASTE YOUR FULL recipeUrls OBJECT HERE ---
        const recipeUrls = {
             "Burrito bowls": "https://www.hellofresh.com/recipes/veggie-burrito-bowls-5bc0bfaaae08b5032c3a6bf2",
             "Enchilada bake": "https://www.hellofresh.com/recipes/one-pan-rice-bean-enchilada-bake-614b499eebe91d735a1d62a9",
             "Simple cauliflower tacos": "https://smittenkitchen.com/2020/10/simple-cauliflower-tacos/",
             "Peach panzanella with burrata & mint": "https://www.goodeggs.com/bundlessfbay/peach-panzanella-with-burrata-mint/5cd5c7e536ac96000eceb455",
             "Roasted yams and chickpeas with yogurt": "https://smittenkitchen.com/2016/02/roasted-yams-and-chickpeas-with-yogurt/",
             // Adjusted URL key to match data:
             "Roast butternut squash and red onion with za'atar tahini": "https://ottolenghi.co.uk/recipes/roast-butternut-squash-and-red-onion-with-tahini-and-za-atar",
             "Shakshuka (Smitten Kitchen)": "https://smittenkitchen.com/2010/04/shakshuka/",
             "Veggie jumble": "https://www.hellofresh.com/recipes/w19-r8-58d3c741d56afa563047ade3",
             "Mediteranean baked veggies": "https://www.hellofresh.com/recipes/mediterranean-baked-veggies-5a958ac730006c32be67bfd2",
             "Mushroom buratta pizza (Good Eggs)": "https://www.goodeggs.com/sfbay/bundlessfbay/mushroom-pizza-with-burrata-arugula/5b58e54d9c68f5000ff4e2ad",
             "Sweet potato pita pocket": "https://www.hellofresh.com/recipes/harissa-sweet-potato-pitas-58b99736d56afa17de02ce53",
             "Mushroom ravioli": "https://www.hellofresh.com/recipes/creamiest-mushroom-ravioli-5aaac3ac30006c55e74b0644",
             "Broccoli Farro Salad (Smitten Kitchen)": "https://smittenkitchen.com/2017/05/broccoli-rubble-farro-salad/",
             "One pot farro with tomato (Smitten Kitchen)": "https://smittenkitchen.com/2013/07/one-pan-farro-with-tomatoes/",
             "Spaghetti aglio e olio (Bon Appetit)": "https://www.bonappetit.com/recipe/spaghetti-aglio-e-olio-with-lots-of-kale",
             "Creamy mushroom pasta (Bon Appetit)": "https://www.bonappetit.com/test-kitchen/inside-our-kitchen/article/brown-butter-mushroom-orecchiette",
             "Chickpea and carrot curry": "https://www.williams-sonoma.com/recipe/chickpea--spinach-and-carrot-curry.html",
             "Quinoa spaghetti with broccoli": "https://www.williams-sonoma.com/recipe/quinoa-spaghetti-with-broccoli-rabe--feta-and-mint.html",
             "Skillet pasta with 5 cheeses": "https://smittenkitchen.com/2016/10/skillet-baked-pasta-with-five-cheeses/",
             "Roasted tomatoes with garlic": "https://smittenkitchen.com/2008/08/slow-roasted-tomatoes/",
             "Haricots verts with minty tahini": "https://www.bonappetit.com/recipe/haricots-verts-and-freekeh-with-minty-tahini-dressing"
        };

        // --- DOM References ---
        const recipeListDiv = document.getElementById('recipe-list');
        const generateButton = document.getElementById('generate-list-button');
        const shoppingListUl = document.getElementById('shopping-list-ul');
        const recipeLinksDiv = document.getElementById('selected-recipe-links');

        // --- Get Unique Recipe Names from Data ---
        const availableRecipes = [...new Set(recipeData.map(item => item.recipeName))];
        const selectableRecipes = availableRecipes.filter(name =>
            name &&
            name.toLowerCase() !== 'everday staples' && // Exclude specific names
            name.toLowerCase() !== 'infrequent staples' // Exclude specific names
        ).sort();

        // --- Dynamically Create Recipe Checkboxes ---
        function populateRecipeCheckboxes() {
            recipeListDiv.innerHTML = ''; // Clear loading message

            if (selectableRecipes.length === 0) {
                recipeListDiv.innerHTML = '<p class="error-message">No recipes found in the data.</p>';
                generateButton.textContent = 'No Recipes';
                return;
            }

            selectableRecipes.forEach(recipeName => {
                const div = document.createElement('div');
                div.classList.add('recipe-item');

                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                // Create a safe ID from the recipe name
                const safeId = `recipe-${recipeName.replace(/[^a-zA-Z0-9_-]/g, '') || Math.random().toString(36).substring(2, 8)}`;
                checkbox.id = safeId;
                checkbox.name = 'recipe';
                checkbox.value = recipeName;

                const label = document.createElement('label');
                label.htmlFor = safeId;
                label.textContent = recipeName;

                div.appendChild(checkbox);
                div.appendChild(label);
                recipeListDiv.appendChild(div);
            });

            // Enable the button now that recipes are loaded
            generateButton.disabled = false;
            generateButton.textContent = 'Generate Shopping List';
        }

        // --- Event Listener for Button ---
        generateButton.addEventListener('click', () => {
            // --- Get Selected Recipe Names ---
            const selectedRecipeNames = [];
            const recipeCheckboxes = recipeListDiv.querySelectorAll('input[name="recipe"]:checked');
            recipeCheckboxes.forEach(checkbox => selectedRecipeNames.push(checkbox.value));

            // --- Populate Recipe Links ---
            recipeLinksDiv.innerHTML = ''; // Clear previous links
            let linksAdded = false;

            if (selectedRecipeNames.length > 0) {
                selectedRecipeNames.sort().forEach(recipeName => {
                    const url = recipeUrls[recipeName]; // Look up URL
                    if (url) {
                        if (!linksAdded) {
                           const linksTitle = document.createElement('h4');
                           linksTitle.textContent = 'Recipe Links:';
                           recipeLinksDiv.appendChild(linksTitle);
                           linksAdded = true;
                        }

                        const linkContainer = document.createElement('div');
                        const link = document.createElement('a');
                        link.href = url;
                        link.textContent = recipeName;
                        link.target = "_blank";
                        link.rel = "noopener noreferrer";
                        linkContainer.appendChild(link);
                        recipeLinksDiv.appendChild(linkContainer);
                    }
                    // Optional: Log if a URL wasn't found for a selected recipe
                    // else { console.warn(`No URL found for recipe: ${recipeName}`); }
                });
            }
             recipeLinksDiv.style.display = linksAdded ? 'block' : 'none'; // Show/hide container


            // --- Aggregate Ingredients ---
            const shoppingList = {};
            recipeData.forEach(item => {
                if (selectedRecipeNames.includes(item.recipeName)) {
                    const { ingredient, quantity, units, section } = item;
                    // Ensure quantity is treated as a number
                    const numQuantity = Number(quantity);
                    if (isNaN(numQuantity)) {
                        console.warn(`Invalid quantity for ${ingredient} in ${item.recipeName}: ${quantity}`);
                        return; // Skip items with non-numeric quantity
                    }

                    const ingredientKey = ingredient.toLowerCase().trim(); // Normalize key
                    const unitKey = units ? units.toLowerCase().trim() : ''; // Normalize unit key

                    // Try to combine based on ingredient and unit
                    const combinedKey = `${ingredientKey}|${unitKey}`; // Use a separator

                    if (shoppingList[combinedKey]) {
                        shoppingList[combinedKey].quantity += numQuantity;
                    } else {
                        // If just the ingredient exists but with a different unit, create a new entry
                        // (This simplified logic assumes direct aggregation is usually desired if units match)
                         shoppingList[combinedKey] = {
                            quantity: numQuantity,
                            units: units || '', // Store original unit display
                            section: section || 'Uncategorized', // Default section
                            originalName: ingredient // Store original name for display
                        };
                    }
                }
            });

            // --- Display Shopping List ---
            shoppingListUl.innerHTML = ''; // Clear previous list
            const ingredientEntries = Object.entries(shoppingList); // Get [key, value] pairs

            if (ingredientEntries.length === 0) {
                 if (selectedRecipeNames.length > 0) {
                    shoppingListUl.innerHTML = '<li>No ingredients needed for selected recipes.</li>';
                 } else {
                    shoppingListUl.innerHTML = '<li>Select recipes and click generate.</li>';
                 }
            } else {
                // Sort by section, then by original ingredient name
                ingredientEntries.sort(([, itemA], [, itemB]) => {
                    const sectionA = itemA.section || 'ZZZ'; // Put uncategorized last
                    const sectionB = itemB.section || 'ZZZ';
                    const sectionCompare = sectionA.localeCompare(sectionB);
                    if (sectionCompare !== 0) return sectionCompare;

                    const nameA = itemA.originalName || '';
                    const nameB = itemB.originalName || '';
                    return nameA.localeCompare(nameB);
                });

                let currentSection = null;
                ingredientEntries.forEach(([combinedKey, item], index) => { // Use index for unique IDs
                    // Add Section Header
                    if (item.section !== currentSection) {
                        const headerLi = document.createElement('li');
                        headerLi.classList.add('section-header');
                        headerLi.textContent = item.section;
                        shoppingListUl.appendChild(headerLi);
                        currentSection = item.section;
                    }

                    // Add Ingredient Item with Checkbox
                    const listItem = document.createElement('li');
                    listItem.classList.add('ingredient-item');

                    // Create Checkbox
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    // Create a more robust unique ID
                    const safeKey = combinedKey.replace(/[^a-zA-Z0-9_-]/g, '');
                    const checkboxId = `item-${safeKey}-${index}`;
                    checkbox.id = checkboxId;
                    checkbox.classList.add('shopping-list-checkbox');

                    // Create Label (for Ingredient Name)
                    const label = document.createElement('label');
                    label.htmlFor = checkboxId;
                    label.classList.add('ingredient-name');
                    label.textContent = item.originalName; // Use original name

                    // Create Qty Span
                    const qtySpan = document.createElement('span');
                    qtySpan.classList.add('ingredient-qty');
                    // Format quantity nicely (remove trailing .00 or .0)
                    const displayQuantity = Number.isInteger(item.quantity)
                        ? item.quantity
                        : parseFloat(item.quantity.toFixed(2)); // Keep up to 2 decimal places if needed
                    qtySpan.textContent = displayQuantity;

                    // Create Unit Span
                    const unitSpan = document.createElement('span');
                    unitSpan.classList.add('ingredient-unit');
                    unitSpan.textContent = item.units;

                    // Append elements in order
                    listItem.appendChild(checkbox);
                    listItem.appendChild(label);
                    listItem.appendChild(qtySpan);
                    listItem.appendChild(unitSpan);
                    shoppingListUl.appendChild(listItem);
                });
            }
        }); // End of Event Listener

        // --- Initial Setup ---
        try {
           populateRecipeCheckboxes();
        } catch (error) {
            console.error("Error initializing recipe list:", error);
            recipeListDiv.innerHTML = '<p class="error-message">An error occurred loading the recipe list.</p>';
            generateButton.disabled = true;
            generateButton.textContent = 'Error Loading';
        }

    </script>


</body></html>